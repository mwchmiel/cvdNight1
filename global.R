library(shiny)
library(ggplot2)
library(dplyr)
library(data.table)

###Put Data processing steps here
#load dataset, loading strings as categorical data
dataset <- fread("data/fullPatientData.csv",stringsAsFactors = TRUE)

#Uncomment this line to load the genetic data
#dataset <- fread("data/genoData.csv",stringsAsFactors = TRUE)
#make this variable a character
dataset$patientID <- as.character(dataset$patientID)
#make this variable an ordered categorical variable
dataset$age <- ordered(dataset$age)

dataset<- dataset %>% filter(race =="Black/AfAm")


##Don't modify anything below here, or app won't work properly.
##get the variable types
varClass <- sapply(dataset, class)
varClass <- lapply(varClass, function(x){if(length(x)>1)x <- x[2]; return(x)})

#separate the variables into each type
categoricalVars <- names(varClass[varClass %in% c("factor","ordered")])
numericVars <- names(varClass[varClass %in% c("numeric", "integer")])